function handleChildrenFunction(n,t){var e=t.val()||t.attr("selectedValue")||"",r,u,f,i;n.val()?(r="byParent",u=t.data("api-action"),u&&(r=u),url=ads.url+"api/MasterCode/"+r,url+="?type="+t.attr("masterCodeType"),f=t.data("api-args"),f&&(url+="&"+f),i=n.val(),$.isArray(i)?$.each(i,function(n,t){url+="&parentId="+t}):url+="&parentId="+i,$.get(url).done(function(n){ads.dplCallback(t,e,n)})):ads.dplCallback(t,"",[])}function tooltip(n,t,i){return n.attr("confirm")&&i==undefined||n.attr("href")&&$.get(n.attr("href")).success(function(t){var u=alert(t,n.data("tooltip-header")||ads.msg.tooltip),r=n.data("dialog-class"),i;r&&u.dialog.find(".modal-dialog").addClass(r);i=n.data("success");i&&eval(i)}).fail(function(){alert(ads.msg.ajaxError,ads.msg.error)}),t.preventDefault(),!1}function updateQueryStringParameter(n,t,i){if(n.indexOf(t+"=")<0)return n+(n.length==0?"":"&")+t+"="+i;var r=new RegExp(t+"=.*?(&|$)","i");return n.replace(r,t+"="+i+"$1")}function SendOTP(n,t,i){var r=$("#"+n),u=t==-1?"-":r.valid()&&r.val();u?$.post(ads.url+"Home/SendOTP",{to:u,type:t,check:i||!1,__RequestVerificationToken:$('input[name="__RequestVerificationToken"]',r.closest("form")).val()},function(i){if($("#loadingPanel").hide(),i<4){alert(ads.lang=="en"?"OTP Sent":"تم الارسال");var r=$("a[href^=javascript");$.each(r,function(i,r){if($(r).attr("href").indexOf("javascript:SendOTP('"+n+"', "+t)>=0||$(r).attr("href").indexOf("javascript:SendOTP('"+n+"')")>=0){$(r).closest("span").html("");return}})}else i==6?t==0?alert(ads.lang=="en"?"Please, change the mobile number, as this number cannot be used anymore with new accounts.":"يرجى تغيير رقم الهاتف النقال، حيث إن هذا الرقم بلغ الحد الأقصى لاستخدامه."):alert(ads.lang=="en"?"Please, change the e-mail address, as this address cannot be used anymore with new accounts.":"يرجى تغيير عنوان البريد الالكتروني، حيث إن هذا العنوان بلغ الحد الأقصى لاستخدامه."):i==6?alert(ads.lang=="en"?"Cannot find neither mobile number nor email address to send to.":"لم يتم العثور على رقم هاتف نقال او عنوان بريد الكتروني للارسال."):i==7?alert(ads.lang=="en"?"Please, try again after half hour, as you reached the maximum allowed OTPs.":"حاول مرة اخرى بعد نصف ساعة، حيث انك بلغت الحد الاقصى من رسائل التأكيد المسموح بها."):alert(ads.lang=="en"?"Failed to send OTP":"فشلت عملية الارسال")}).fail(function(){$("#loadingPanel").hide();alert(ads.lang=="en"?"Failed to send OTP":"فشلت عملية الارسال")}):r.focus()}function roundTo(n,t){var i,r;return t===undefined&&(t=0),i=Math.pow(10,t),n=parseFloat((n*i).toFixed(11)),r=Math.round(n)/i,+r.toFixed(t)}ads=window.ads||{};ads.core=ads.core||{};ads.isWebView=function(){return navigator.userAgent.indexOf("/WV/")>0};ads.createCheckboxes=function(n,t){var i,s;n=n[0];i=$(n);i.hide();n.options[0].selected&&n.options[0].val==""&&(n.options[0].selected=!1);var e=n.id+"div",r=["<div id='"+e+"' data-lb='"+n.id+"'>"],u,o,f=1;i.find("option").each(function(){if(u=$(this),o=u.val()){var s=' id="'+n.id+"chk"+f+'"',i="",h=this.selected?"checked":"",e=" checkListAlign font13";t=="radio"&&(i=' name="'+n.name+'chk"',e="");r[f++]='<label class="'+t+"-inline"+e+'"><input type="'+t+'" class="list-check" '+h+s+i+' value="'+o+'" />'+u.text()+"<\/label>"}});r[f]="<\/div>";$("#"+e).remove();s=$(r.join(""));i.addClass("validate").parent().prepend(s)};ads.dplCallback=function(n,t,i){var r=[],u=function(n){return $.isArray(t)?t.indexOf(n)>=0:t==n},f=n.attr("multi"),e;$.each(i,function(t,i){f&&i.id==""||(i.id==""&&n.attr("select")&&(i.name=n.attr("select")),r[t]="<option value='"+i.id+(u(i.id)?"' selected='selected'":"'")+">"+i.name+"<\/option>")});n.html(r.join(""));e=n.val();(n.val()!=t||n.attr("childId")||n.attr("childId2"))&&n.trigger("change");n.attr("as-boxes")&&ads.createCheckboxes(n,n.attr("multiple")?"checkbox":"radio")};ads.core.init=function(){$(document).off("change","select[childId],select[childId2]").on("change","select[childId],select[childId2]",function(){var n=$(this),t=$("#"+n.attr("childId"));handleChildrenFunction(n,t);n.attr("childId2")&&(t=$("#"+n.attr("childId2")),handleChildrenFunction(n,t))});$(document).find("select[masterCodeType]").each(function(){var n=$(this),t;if(!n.data("handled")&&!$("select[childId='"+this.id+"']").length&&!$("select[childId2='"+this.id+"']").length){n.data("handled",!0);var e=n.val()||n.attr("selectedValue")||"",u,f,i=n.data("api-action"),r=n.data("api-args");n.attr("parentId")?(t="byParent",i&&(t=i,r&&(t+="?"+r)),u=ads.url+"api/MasterCode/"+t,f={type:n.attr("masterCodeType"),parentId:n.attr("parentId"),x:Math.random()}):(t="byType",i&&(t=i,r&&(t+="?"+r)),u=ads.url+"api/MasterCode/"+t,f={type:n.attr("masterCodeType"),x:Math.random()});$.get(u,f,"json").success(function(t){var i,r,u;ads.dplCallback(n,e,t);i=n;i.attr("displayControls")&&i.attr("as-boxes")&&(r=i.attr("id"),u='<ul class="nav nav-pills" data-lb="'+r+'"><li class="active"><a id="checkall_'+r+'"> '+(ads.lang=="ar"?"اختيار الكل":"Select All")+'<\/a><\/li><li class="active"><a id="uncheckall_'+r+'"> '+(ads.lang=="ar"?"الغاء اختيار الكل":"Deselect All")+"<\/a><\/li><\/ul>",i.closest("[class*=col-md-]").prepend(u))})}});$(document).on("click","[id*=checkall_]",function(){var i=$(this).closest("ul"),t,n;for(i.next("div").find("input").prop("checked","checked"),t=document.getElementById(i.data("lb")),n=0;n<t.options.length;n++)t.options[n].selected=!0});$(document).on("click","[id*=uncheckall_]",function(){var i=$(this).closest("ul"),t,n;for(i.next("div").find("input").removeAttr("checked"),t=document.getElementById(i.data("lb")),n=0;n<t.options.length;n++)t.options[n].selected=!1});$(document).on("click",".list-check",function(){for(var i=$(this),r=i.closest("div").data("lb"),t=document.getElementById(r),n=0;n<t.options.length;n++)t.options[n].value==this.value&&(t.options[n].selected=this.checked)});if($(document).find("select[as-boxes]:not([masterCodeType])").each(function(){var n=$(this);ads.createCheckboxes(n,n.attr("multiple")?"checkbox":"radio");n.removeAttr("as-boxes")}),ads.core.datetime(),$("textarea").flexible(),$.validator.setDefaults({ignore:":hidden:not('.validate')"}),$.validator){var n=$("form").removeData("validator").removeData("unobtrusiveValidation");$.validator.unobtrusive.parse(n)}$("input[type=tel]:not([placeholder])").attr("placeholder","9xxxxxx9");$("input[type=email]:not([placeholder])").attr("placeholder","xyz@domain.com");$("input[type=url]:not([placeholder])").attr("placeholder","http(s)://(www)domain.abc");$("input[type=number]:not([placeholder])").attr("placeholder","543210");$(document).find("[confirm]").each(function(){var n=$(this);if(n.attr("type")=="submit")n.closest("form").on("submit",function(){return n.attr("confirm")==undefined})})};ads.core.datetime=ads.core.datetime||function(){};$(document).on("click","[confirm]",function(n){var t=$(this),i,r;return t.attr("href")?confirm(t.attr("confirm"),function(){t.attr("tooltip")!=undefined?tooltip(t,n,!0):location.href=t.attr("href")},function(){$("#forAlert.modal").modal("hide")},null,t.data("tooltip-header")):t.attr("type")=="submit"?(i=t.closest("form"),r=i.valid(),r&&confirm(undefined,function(){t.removeAttr("confirm");i.submit()}," ")):alert("not implemented tag type"),n.preventDefault(),!1});$(document).ready(function(){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))&&(ads.isMobile=!0);$.fn.datetimepicker&&(ads.lang=="ar"&&($.fn.datetimepicker.defaults.tooltips={today:"اليوم",clear:"اعادة تهيئة",close:"غلق",selectMonth:"اختر الشهر",prevMonth:"السابق",nextMonth:"التالي",selectYear:"اختر السنة",prevYear:"السابق",nextYear:"التالي",selectDecade:"اختر العقد",prevDecade:"السابق",nextDecade:"التالي",prevCentury:"السابق",nextCentury:"التالي",selectTime:"اختر الوقت"}),ads.isMobile&&($.fn.datetimepicker.defaults.inline=!0,$.fn.datetimepicker.defaults.keepOpen=!0,$.fn.datetimepicker.defaults.debug=!0));ads.core.init();$(".field-validation-error").addClass("text-danger");var n=$("#msgToBeShown"),t=n.find("#msgToBeShownContent").html();t&&alert(t,n.find("#msgToBeShownTitle").html());$(".navbar").find("li:empty").not(".divider").remove();$(".navbar").find("li.divider").next(".divider").remove();$(".navbar").find("ul").find("li:first,li:last").filter(".divider").remove()});$("form:not(.hideLoadingPanel)").submit(function(){$(this).valid()&&!$("#loadingPanel").is(":visible")&&($("input[type=submit]").blur(),$("#loadingPanel").show())});$(document).on("click","[data-tooltip]",function(){alert($(this).data("tooltip"),ads.msg.tooltip)});$(document).on("DOMNodeInserted",".field-validation-error",function(){$(this).addClass("text-danger")});window.onbeforeunload=function(){$("#loadingPanel").show()};$(document).ajaxStart(function(){$("#loadingPanel").show()});$(document).ajaxComplete(function(){$("#loadingPanel").hide();ads.core.init()});$(window).on("focus",function(){$("#loadingPanel").hide()});$(document).on("click","a[tooltip]",function(n){return tooltip($(this),n)});$(document).on("click","[data-tooltip-url]",function(){var n=$(this);n.data("tooltip-url")&&$.get(n.data("tooltip-url")).success(function(t){var u=alert(t,n.data("tooltip-header")||ads.msg.tooltip),r=n.data("dialog-class"),i;r&&u.dialog.find(".modal-dialog").addClass(r);i=n.data("success");i&&eval(i)}).fail(function(){alert(ads.msg.ajaxError,ads.msg.error)})});$(document).on("click","[data-url]",function(){var n=$(this),t;n.attr("data-loaded")||(t=$(n.attr("href")),$.get(n.attr("data-url"),function(i){t?(t.html(i),n.attr("data-loaded","true")):alert(i)}).fail(function(){alert(ads.msg.ajaxError,ads.msg.error)}))});$(document).on("click","img.thumb",function(){var t=$(this).attr("src").replace(/\?width=\d+/i,""),n=new Image;n.src=t;alertImg(n)});$(document).on("click","a[target=popup]",function(n){var t=$(this);return t.attr("href")&&$.get(t.attr("href")).success(function(n){alert(n)}).fail(function(){alert(ads.msg.ajaxError,ads.msg.error)}),n.preventDefault(),!1});if(confirm=function(n,t,i,r,u){var s,f,e,o;n=n||(ads.lang=="en"?"Are you sure?":"هل انت متأكد؟");s=$.Deferred();f=$("#forAlert.modal");f.find("#close").hide();e=f.find("#yes");r?e.html(r):e.html(ads.lang=="en"?"Yes":"نعم");e.show();e.off("click").on("click",t);if(o=f.find("#no"),i){jQuery.isFunction(i)||(i=function(){f.modal("hide")});o.show();o.off("click").on("click",i)}else o.hide();f.find("#alertModelTitle").html(u||ads.msg.alertTitleCommon);f.find(".modal-body").html(n);f.on("hide.bs.modal",function(){s.reject()});return f.modal(),s.promise()},window.alert=function(n,t,i){var f=$.Deferred(),r=$("#forAlert.modal");r.find("#yes").hide();r.find("#no").hide();r.find("#divZoom").hide();r.find("#close").show();i=i||!1;var e=$("<div />").html(n),u=$(window),s=parseInt(u.height()*.7),h=Modernizr.touch?u.width():parseInt(u.width()*.7),c=r.find(".modal-body").attr("style","max-height: "+s+"px;overflow: auto;max-width: "+h+"px").html(i?e.text():e.html()),o=r.find("#alertModelTitle");t?o.html(t):o.html(ads.msg.alertTitleCommon);r.on("hide.bs.modal",function(){f.resolve()});return r.modal(),c.off("mouseup").off("mousedown").off("mousemove").off("mouseleave"),f.promise()},alertImg=function(n){var v=$.Deferred(),t=$("#forAlert.modal"),i,u;t.find("#yes").hide();t.find("#no").hide();t.find("#close").show();t.find("#divZoom").show();var o=$(window),y=parseInt(o.height()*.7),f=Modernizr.touch?o.width():parseInt(o.width()*.7),r=t.find(".modal-body").attr("style","cursor: move;max-height: "+y+"px;overflow: hidden;max-width: "+f+"px").html(n);t.on("hide.bs.modal",function(){v.resolve()});t.on("show.bs.modal",function(){t.find(".modal-dialog").attr("style","width: auto;display: table;")});t.modal();i=r.find("img");i.addClass("alert");var e=!1,s=0,h=0,c="mousedown",l="mouseup",a="mousemove";Modernizr.touch===!0&&(c="touchstart",l="touchend",a="touchmove");r.off(l).on(l,function(){e=!1});r.off(c).on(c,function(n){var t=Modernizr.touch?n.originalEvent.touches[0]:n;n.preventDefault();s=t.clientX;h=t.clientY;e=!0});r.off(a).on(a,function(n){if(e){var t=Modernizr.touch?n.originalEvent.touches[0]:n;n.preventDefault();r.scrollLeft(r.scrollLeft()+(s-t.clientX));r.scrollTop(r.scrollTop()+(h-t.clientY));s=t.clientX;h=t.clientY}});r.off("mouseleave").on("mouseleave",function(){e=!1});t.off("click",".zoom-in").on("click",".zoom-in",function(){i.width(i.width()*(Modernizr.touch?1.25:1.1));i.width()>f&&$(this).parent("a").next("a").attr("style","color: #0c7cc4;cursor:pointer")});t.find(".zoom-out").parent("a").attr("style","color: #0c7cc4;cursor:pointer");t.off("click",".zoom-out").on("click",".zoom-out",function(){i.width()>f&&i.width(i.width()*(Modernizr.touch?.75:.9));i.width()<=f&&$(this).parent("a").attr("style","color: #999999;cursor:no-drop")});u=0;t.off("click",".rotate-right").on("click",".rotate-right",function(){u+=90;i.css("transform","rotate("+u+"deg)");u==360&&(u=0)});t.off("click",".rotate-left").on("click",".rotate-left",function(){u-=90;i.css("transform","rotate("+u+"deg)");u==-360&&(u=0)});return v.promise()},/iPhone|iPod|Android|iPad/.test(window.navigator.platform))$(document).on("focus","textarea,input,select",function(){$("footer, .forMobileApp .tabContainer").hide()}).on("blur","textarea,input,select",function(){$("footer, .forMobileApp .tabContainer").show()});